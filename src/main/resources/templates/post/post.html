<!DOCTYPE html>
<html lang="en" xmlns:sec="http://www.thymeleaf.org/thymeleaf-extras-springsecurity3">
<div th:fragment="bigPost(fragmentPost)">
    <div class=" d-flex container my-5 justify-content-center">

        <div class="flex-fill position-relative">
            <div class="col-auto end-0 position-absolute">
                <div class="row d-flex flex-nowrap border py-2 pe-3 rounded-pill shadow bg-light">
                <div class="col-auto d-flex align-items-center">
                    <img src="https://via.placeholder.com/100" class="rounded-circle float-start" width="50">
                </div>
                <div class="col-auto text-nowrap">
                    <div th:text="${fragmentPost.user.name}" class="row"></div>
                    <small th:text="${#dates.format(fragmentPost.createdAt, 'dd-M, hh:mm')}" class="row text-secondary" ></small>
                </div>
                </div>
                <div class="row d-flex justify-content-end mt-3">
                    <div class="bg-light d-flex border shadow rounded-pill col-auto p-1">
                        <div class="col-auto d-flex align-items-center">
                            <img th:src="@{/bootstrap/img/hand-thumbs-up.svg} " alt="Post likes count" width="20" class="m-2">
                        </div>
                        <div class="col-auto my-auto mx-3 text-nowrap">
                            <div th:text="${fragmentPost.likes}" class="row"></div>
                        </div>
                    </div>
                </div>
                <div class="row d-flex justify-content-end mt-3">
                    <div class="bg-light d-flex border shadow rounded-pill col-auto p-1">
                        <div class="col-auto d-flex align-items-center">
                            <img th:src="@{/bootstrap/img/chat-right-text.svg} " alt="Post likes count" width="20" class="m-2">
                        </div>
                        <div class="col-auto my-auto mx-3 text-nowrap">
                            <div th:text="${fragmentPost.likes}" class="row"></div>
                        </div>
                    </div>
                </div>
                <div sec:authorize="hasAuthority('UPDATE')" class="row d-flex justify-content-end mt-3">
                    <div  class="bg-light border shadow rounded-circle col-auto p-2">
                        <a href="/" class="p-0">
                            <img th:src="@{/bootstrap/img/pencil.svg} " alt="Delete post" width="20" class="m-2">
                        </a>
                    </div>
                </div>
                <div sec:authorize="hasAuthority('DELETE')" class="row d-flex justify-content-end mt-3">
                    <div  class="bg-light border shadow rounded-circle col-auto p-2">
                        <a href="/" class="p-0">
                            <img th:src="@{/bootstrap/img/trash.svg} " alt="Delete post" width="20" class="m-2">
                        </a>
                    </div>
                </div>
            </div>
        </div>
        <div class="row bg-light col-8 border shadow-sm mx-4 ">
            <div th:text="${fragmentPost.title}" class="row mx-2"></div>
            <div class="row  mx-auto bg-dark px-0">
                <div class="col-auto mx-auto overflow-hidden ">
                    <img src="https://via.placeholder.com/500" class="float-start" >
                </div>
            </div>
            <div class="row d-flex justify-content-around my-2">
                <button class="col-4 btn btn-outline-dark" type="button">
                    Like
                </button>
                <button class="col-4 btn btn-outline-dark" type="button" data-bs-toggle="collapse"
                        data-bs-target="#collapseExample" aria-expanded="false" aria-controls="collapseExample">
                    Comment
                </button>
            </div>
        </div>

        <div class="flex-fill position-relative">
            <div class="collapse collapse-horizontal border position-absolute" id="collapseExample" style="height: 100%;">
                <div class="container d-flex flex-column justify-content-end" style="width: 420px;height: 100%;">
                    <div class="border my-2 p-2">
                        Some placeholder content for the collapse component.
                        This panel is hidden by default but revealed when the user activates the relevant trigger.
                    </div>
                    <div class="border my-2 p-2">
                        Some placeholder content for the collapse component.
                        This panel is hidden by default but revealed when the user activates the relevant trigger.
                    </div>
                    <form sec:authorize="hasAuthority('COMMENT')" class="d-flex mb-1">
                        <textarea class="form-control" placeholder="Leave a comment here" id="floatingTextarea"></textarea>
                        <div class="border ms-1 d-flex">
                            <a href="/" class="p-0 d-flex">
                                <img th:src="@{/bootstrap/img/send.svg} " alt="Comment" width="20" class="m-2 my-auto">
                            </a>
                        </div>
                    </form>
                </div>
            </div>
        </div>

    </div>
</div>

</html>